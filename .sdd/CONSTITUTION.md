# プロジェクト原則

**バージョン**: 1.0.0
**最終更新日**: 2026-01-28
**ステータス**: 有効

## 目的

このドキュメントは、AI-SDDワークフロー デモプレゼンテーションプロジェクトの開発を統制する非交渉原則と基準を定義します。すべてのコード、仕様、設計判断はこれらの原則に従う必要があります。

## 原則階層

```
1. ビジネス原則（最優先）
   ↓
2. アーキテクチャ原則
   ↓
3. 開発手法原則
   ↓
4. 技術制約
```

優先度が高い原則が低い原則に優先します。

---

## 1. ビジネス原則（最優先）

### B-001: プレゼンテーション品質の優先

**原則**: プレゼンテーションの視覚的品質と伝達力を最優先とする。AI-SDDワークフローの価値を聴衆に正確に伝えることが目的である。

**適用範囲**: すべてのスライドコンポーネントとスタイリング

**検証方法**:

- [ ] スライドの内容がAI-SDDワークフローの価値を正確に伝えているか
- [ ] 視覚的な表現が情報の理解を助けているか
- [ ] 1280x720の解像度で正しく表示されるか

**違反例**:

- 技術的な正確さを犠牲にした誇張表現
- 読みにくいフォントサイズやカラーコントラスト

**準拠例**:

- 明確なビジュアル階層による情報設計
- AI-SDDの各フェーズを分かりやすく図示

---

### B-002: コンテンツの正確性

**原則**: プレゼンテーションで説明するAI-SDDワークフローの内容は、実際のプラグイン機能と一致していなければならない

**適用範囲**: すべてのスライドコンテンツ

**検証方法**:

- [ ] 説明されている機能がプラグインに実際に存在するか
- [ ] コマンド名やフロー図が最新のプラグイン仕様と一致しているか

---

## 2. アーキテクチャ原則

### A-001: コンポーネント分離

**原則**: 各スライドを独立したReactコンポーネントとして実装し、追加・削除・並べ替えを容易にする

**適用範囲**: すべてのスライドコンポーネント

**検証方法**:

- [ ] 各スライドが独立した `.tsx` ファイルとして存在するか
- [ ] スライド間に直接的な依存関係がないか
- [ ] `App.tsx` でのスライド順序変更が容易か

**違反例**:

- 複数スライドを1つのコンポーネントに結合
- スライド間で状態を共有

**準拠例**:

- `src/slides/TitleSlide.tsx` のような個別ファイル
- `App.tsx` の `<div className="slides">` 内での宣言的な配置

---

### A-002: スタイルの集約管理

**原則**: CSSスタイルは `src/styles/style.css` に集約し、インラインスタイルの使用を最小限にする

**適用範囲**: すべてのスタイリング

**検証方法**:

- [ ] 新しいレイアウトやアニメーションが `style.css` に追加されているか
- [ ] コンポーネント内のインラインスタイルが最小限か

---

## 3. 開発手法原則

### D-001: Specification-Driven

**原則**: 仕様書なしで実装しない

**適用範囲**: すべての新機能・変更

**検証方法**:

- [ ] `*_spec.md` が存在する
- [ ] `*_design.md` が存在する
- [ ] 仕様書が最新（実装前に更新されている）

**違反例**:

- 口頭指示のみで実装開始
- 仕様書が古いまま実装

**準拠例**:

- Specify → Plan → Tasks → Implement のフローを遵守
- 仕様書を真実の源（Single Source of Truth）として管理

---

## 開発標準

### コード品質

| 標準       | 要件          | ツール                    | 適用方法  |
|:---------|:------------|:-----------------------|:------|
| **型安全性** | 厳密な型チェック    | TypeScript strict mode | ビルド時  |

### ドキュメント

| 標準      | 要件                        | 配置場所                  | 更新頻度   |
|:--------|:--------------------------|:----------------------|:-------|
| **仕様書** | すべての機能に `*_spec.md` が必要   | `.sdd/specification/` | 実装前    |
| **設計書** | すべての実装に `*_design.md` が必要 | `.sdd/specification/` | 設計フェーズ |

## アーキテクチャ制約

### 技術スタック制約

| レイヤー         | 許可される技術                 | 理由                 |
|:-------------|:------------------------|:-------------------|
| **UI**       | React, TypeScript       | 型安全性、コンポーネント指向     |
| **プレゼン**     | Reveal.js               | スライド表示に特化したライブラリ   |
| **ビルドツール**   | Vite                    | 高速なHMRとビルド         |
| **スタイリング**   | CSS（カスタム）               | Reveal.jsとの親和性      |

### モジュール構成

```
src/
├── main.tsx            # エントリーポイント
├── App.tsx             # Reveal.js初期化・スライド配置
├── slides/             # 各スライドコンポーネント
└── styles/             # CSSスタイル
```

## 意思決定フレームワーク

技術的トレードオフに直面した場合、以下の順序で優先順位付けします：

1. **伝達力** - プレゼンテーションとして情報が伝わるか？
2. **正確性** - AI-SDDの仕様と一致しているか？
3. **シンプルさ** - 最もシンプルな解決策か？
4. **保守性** - スライドの追加・変更が容易か？

## 4. 技術制約

### T-001: TypeScript Strict Mode

**原則**: TypeScript の strict モードを有効にし、型安全性を確保する

**適用範囲**: すべてのソースコード

**検証方法**:

- [ ] `tsconfig.json` で `strict: true` が設定されている
- [ ] `noUnusedLocals` と `noUnusedParameters` が有効

**違反例**:

- `any` 型の使用
- 型アサーション（`as`）の多用

**準拠例**:

- すべてのコンポーネントに明確な型定義
- Reveal.js の型定義ファイル（`reveal.d.ts`）の維持

---

### T-002: Reveal.js 互換性

**原則**: Reveal.js の DOM 構造（`.reveal > .slides > section`）を維持し、プレゼンテーション機能との互換性を確保する

**適用範囲**: すべてのスライドコンポーネント

**検証方法**:

- [ ] 各スライドコンポーネントが `<section>` 要素を返しているか
- [ ] Reveal.js のクラス名やデータ属性が正しく設定されているか

---

## 原則追加のガイドライン

新しい原則を追加する際は、以下を考慮してください：

### 良い原則の条件

| 条件        | 説明                         |
|:----------|:---------------------------|
| **検証可能**  | チェックリストで検証できること            |
| **明確**    | 曖昧さがなく、準拠/違反の判断が明確であること    |
| **正当化可能** | なぜその原則が必要かが説明できること         |
| **実現可能**  | チーム全体が実践できること              |
| **永続的**   | 一時的な方針ではなく、長期的に守るべき原則であること |

## 関連ドキュメント

### この原則を参照すべきドキュメント

| ドキュメント                           | 参照方法                |
|:---------------------------------|:--------------------|
| `.sdd/SPECIFICATION_TEMPLATE.md` | 原則への言及セクションを含める     |
| `.sdd/DESIGN_DOC_TEMPLATE.md`    | 原則準拠のチェックリストを含める    |
| `*_spec.md`                      | 原則に基づいた設計を記述        |
| `*_design.md`                    | 設計判断が原則に準拠していることを明記 |

### 原則準拠の検証

```bash
/constitution validate
```

このコマンドで、すべての仕様書・設計書が原則に従っているかを自動検証できます。

---

## セマンティックバージョニング

原則のバージョンは以下のルールに従います：

| バージョン種別 | 用途                  | 例             |
|:--------|:--------------------|:--------------|
| Major   | 既存原則の削除・大幅変更（破壊的変更） | 1.0.0 → 2.0.0 |
| Minor   | 新しい原則の追加            | 1.0.0 → 1.1.0 |
| Patch   | 原則の表現修正、誤字修正        | 1.0.0 → 1.0.1 |

---

*この原則は生きたドキュメントです。チームの学びとプロジェクトのニーズに応じて進化すべきものです。*

## 変更履歴

### v1.0.0 (2026-01-28)

**初版原則の確立**

- B-001: プレゼンテーション品質の優先
- B-002: コンテンツの正確性
- A-001: コンポーネント分離
- A-002: スタイルの集約管理
- D-001: Specification-Driven
- T-001: TypeScript Strict Mode
- T-002: Reveal.js 互換性
